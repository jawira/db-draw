{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"DbDraw is a PHP library, it allows you to generate a ER diagram from an existing database. It takes a DoctrineORM connection as input, and generates a .puml diagram as output. You can generate diagram from different sizes and themes. Installing composer require jawira/db-draw How to use Because DB Draw is a library, you have to use it as a dependency and instantiate it in your project. In order to create a diagram you have to follow these steps: Your application must provide a valid doctrine/dbal connection. Instantiate \\Jawira\\DbDraw\\DbDraw using your dbal connection . Choose your diagram size ( mini , midi , maxi ) and call DbDraw::generatePuml . Then DbDraw::generatePuml will return a PlantUML diagram . Is up to you to convert the puml diagram to another image format (e.g. _ png_ or svg ). I suggest to use jawira/plantuml-client . Example: use Doctrine\\DBAL\\DriverManager; use Jawira\\DbDraw\\DbDraw; use Jawira\\PlantUmlClient\\{Client, Format}; // a. Some logic to retrieve $connection (\\Doctrine\\DBAL\\Connection), // this is an example, your application should do this for you. $connectionParams = ['url' => 'mysql://admin:pass@127.0.0.1/db-draw', 'driver' => 'pdo_mysql']; $connection = DriverManager::getConnection($connectionParams); // b. Using jawira/db-draw: generating PlantUML diagram $dbDiagram = new DbDraw($connection); $puml = $dbDiagram->generatePuml(DbDraw::MIDI); // set size and theme here file_put_contents('database.puml', $puml); // c. Converting & saving png image (using jawira/plantuml-client) $client = new Client(); $png = $client->generateImage($puml, Format::PNG); file_put_contents('database.png', $png); Repository https://github.com/jawira/db-draw","title":"Home"},{"location":"index.html#installing","text":"composer require jawira/db-draw","title":"Installing"},{"location":"index.html#how-to-use","text":"Because DB Draw is a library, you have to use it as a dependency and instantiate it in your project. In order to create a diagram you have to follow these steps: Your application must provide a valid doctrine/dbal connection. Instantiate \\Jawira\\DbDraw\\DbDraw using your dbal connection . Choose your diagram size ( mini , midi , maxi ) and call DbDraw::generatePuml . Then DbDraw::generatePuml will return a PlantUML diagram . Is up to you to convert the puml diagram to another image format (e.g. _ png_ or svg ). I suggest to use jawira/plantuml-client . Example: use Doctrine\\DBAL\\DriverManager; use Jawira\\DbDraw\\DbDraw; use Jawira\\PlantUmlClient\\{Client, Format}; // a. Some logic to retrieve $connection (\\Doctrine\\DBAL\\Connection), // this is an example, your application should do this for you. $connectionParams = ['url' => 'mysql://admin:pass@127.0.0.1/db-draw', 'driver' => 'pdo_mysql']; $connection = DriverManager::getConnection($connectionParams); // b. Using jawira/db-draw: generating PlantUML diagram $dbDiagram = new DbDraw($connection); $puml = $dbDiagram->generatePuml(DbDraw::MIDI); // set size and theme here file_put_contents('database.puml', $puml); // c. Converting & saving png image (using jawira/plantuml-client) $client = new Client(); $png = $client->generateImage($puml, Format::PNG); file_put_contents('database.png', $png);","title":"How to use"},{"location":"index.html#repository","text":"https://github.com/jawira/db-draw","title":"Repository"},{"location":"dev-notes.html","text":"Dev notes Phing targets Running tests PHPUnit needs a mysql database to run tests, this is handled by docker compose : phing setup remote:qa Running tests locally: phing qa -Ddb.host=172.23.0.2 PHPUnit without Phing: DB_HOST=172.23.0.2 vendor/bin/phpunit tests/DiagramTest.php testTheme Important: DB_HOST variable is only used in tests.","title":"Dev notes"},{"location":"dev-notes.html#dev-notes","text":"","title":"Dev notes"},{"location":"dev-notes.html#phing-targets","text":"","title":"Phing targets"},{"location":"dev-notes.html#running-tests","text":"PHPUnit needs a mysql database to run tests, this is handled by docker compose : phing setup remote:qa Running tests locally: phing qa -Ddb.host=172.23.0.2 PHPUnit without Phing: DB_HOST=172.23.0.2 vendor/bin/phpunit tests/DiagramTest.php testTheme Important: DB_HOST variable is only used in tests.","title":"Running tests"},{"location":"diagram-sizes.html","text":"Diagram sizes Mini Mini diagrams are composed by table names only. $dbDraw = new DbDraw($connection); $mini = $dbDraw->generatePuml(DbDraw::MINI); Midi Midi diagrams displays columns names and type. $dbDraw = new DbDraw($connection); $midi = $dbDraw->generatePuml(DbDraw::MIDI); Maxi Same as Midi, but Views are also displayed. $dbDraw = new DbDraw($connection); $maxi = $dbDraw->generatePuml(DbDraw::MAXI);","title":"Diagram sizes"},{"location":"diagram-sizes.html#diagram-sizes","text":"","title":"Diagram sizes"},{"location":"diagram-sizes.html#mini","text":"Mini diagrams are composed by table names only. $dbDraw = new DbDraw($connection); $mini = $dbDraw->generatePuml(DbDraw::MINI);","title":"Mini"},{"location":"diagram-sizes.html#midi","text":"Midi diagrams displays columns names and type. $dbDraw = new DbDraw($connection); $midi = $dbDraw->generatePuml(DbDraw::MIDI);","title":"Midi"},{"location":"diagram-sizes.html#maxi","text":"Same as Midi, but Views are also displayed. $dbDraw = new DbDraw($connection); $maxi = $dbDraw->generatePuml(DbDraw::MAXI);","title":"Maxi"},{"location":"themes.html","text":"Themes amiga use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::AMIGA); black-knight use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::BLACK_KNIGHT); bluegray use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::BLUEGRAY); blueprint use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::BLUEPRINT); cerulean use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CERULEAN); cerulean-outline use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CERULEAN_OUTLINE); crt-amber use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CRT_AMBER); crt-green use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CRT_GREEN); cyborg use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CYBORG); cyborg-outline use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CYBORG_OUTLINE); hacker use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::HACKER); lightgray use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::LIGHTGRAY); materia use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::MATERIA); materia-outline use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::MATERIA_OUTLINE); metal use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::METAL); mimeograph use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::MIMEOGRAPH); minty use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::MINTY); plain use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::PLAIN); sandstone use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SANDSTONE); silver use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SILVER); sketchy use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SKETCHY); sketchy-outline use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SKETCHY_OUTLINE); spacelab use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SPACELAB); superhero use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SUPERHERO); superhero-outline use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SUPERHERO_OUTLINE); toy use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::TOY); united use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::UNITED); vibrant use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::VIBRANT);","title":"Themes"},{"location":"themes.html#themes","text":"","title":"Themes"},{"location":"themes.html#amiga","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::AMIGA);","title":"amiga"},{"location":"themes.html#black-knight","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::BLACK_KNIGHT);","title":"black-knight"},{"location":"themes.html#bluegray","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::BLUEGRAY);","title":"bluegray"},{"location":"themes.html#blueprint","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::BLUEPRINT);","title":"blueprint"},{"location":"themes.html#cerulean","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CERULEAN);","title":"cerulean"},{"location":"themes.html#cerulean-outline","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CERULEAN_OUTLINE);","title":"cerulean-outline"},{"location":"themes.html#crt-amber","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CRT_AMBER);","title":"crt-amber"},{"location":"themes.html#crt-green","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CRT_GREEN);","title":"crt-green"},{"location":"themes.html#cyborg","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CYBORG);","title":"cyborg"},{"location":"themes.html#cyborg-outline","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::CYBORG_OUTLINE);","title":"cyborg-outline"},{"location":"themes.html#hacker","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::HACKER);","title":"hacker"},{"location":"themes.html#lightgray","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::LIGHTGRAY);","title":"lightgray"},{"location":"themes.html#materia","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::MATERIA);","title":"materia"},{"location":"themes.html#materia-outline","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::MATERIA_OUTLINE);","title":"materia-outline"},{"location":"themes.html#metal","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::METAL);","title":"metal"},{"location":"themes.html#mimeograph","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::MIMEOGRAPH);","title":"mimeograph"},{"location":"themes.html#minty","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::MINTY);","title":"minty"},{"location":"themes.html#plain","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::PLAIN);","title":"plain"},{"location":"themes.html#sandstone","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SANDSTONE);","title":"sandstone"},{"location":"themes.html#silver","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SILVER);","title":"silver"},{"location":"themes.html#sketchy","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SKETCHY);","title":"sketchy"},{"location":"themes.html#sketchy-outline","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SKETCHY_OUTLINE);","title":"sketchy-outline"},{"location":"themes.html#spacelab","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SPACELAB);","title":"spacelab"},{"location":"themes.html#superhero","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SUPERHERO);","title":"superhero"},{"location":"themes.html#superhero-outline","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::SUPERHERO_OUTLINE);","title":"superhero-outline"},{"location":"themes.html#toy","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::TOY);","title":"toy"},{"location":"themes.html#united","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::UNITED);","title":"united"},{"location":"themes.html#vibrant","text":"use Jawira\\DbDraw\\{DbDraw, Theme}; $puml = $dbDiagram->generatePuml(DbDraw::MAXI, Theme::VIBRANT);","title":"vibrant"}]}